<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paz Church App</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3B82F6">
    <link rel="apple-touch-icon" href="paz_church_paripaba_logo.jpg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Paz Church">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Custom Styles */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Define colors based on the React Native app's theme */
        :root {
            --background-light: #F8F9FA;
            --background-dark: #121212;
            --text-light: #1A1A1A;
            --text-dark: #EFEFEF;
            --card-light: #FFFFFF;
            --card-dark: #1E1E1E;
            --primary: #3B82F6; /* Blue-500 */
            --border-light: #E5E7EB;
            --border-dark: #374151;
        }

        /* Light theme by default */
        body {
            background-color: var(--background-light);
            color: var(--text-light);
        }
        .theme-card {
            background-color: var(--card-light);
            border-color: var(--border-light);
        }
        .theme-text {
            color: var(--text-light);
        }
        .theme-border {
            border-color: var(--border-light);
        }
        .theme-sidebar {
            background-color: var(--card-light);
        }

        /* Dark theme styles */
        body.dark {
            background-color: var(--background-dark);
            color: var(--text-dark);
        }
        body.dark .theme-card {
            background-color: var(--card-dark);
            border-color: var(--border-dark);
        }
        body.dark .theme-text {
            color: var(--text-dark);
        }
        body.dark .theme-border {
            border-color: var(--border-dark);
        }
        body.dark .theme-sidebar {
            background-color: var(--card-dark);
        }
        body.dark .theme-header {
            background-color: var(--card-dark);
            border-color: var(--border-dark);
        }

        /* Sidebar transition */
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }

        /* Hide scrollbar for cleaner look */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Page transition */
        .page {
            display: none;
            animation: fadeIn 0.5s;
        }
        .page.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Custom styling for Bible reader */
        #bible-text {
            height: calc(100vh - 300px);
        }

        #carousel-wrapper img {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="antialiased">
    <div id="app-container" class="relative min-h-screen md:flex">
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden" onclick="toggleSidebar()"></div>

        <nav id="sidebar" class="theme-sidebar fixed top-0 left-0 h-full w-64 transform -translate-x-full md:relative md:translate-x-0 z-30 shadow-lg md:shadow-none border-r theme-border">
            <div class="p-4 flex flex-col h-full">
                <div class="flex items-center mb-6">
                    <img src="paz_church_paripaba_logo.jpg" alt="Logo da Paz Church" class="rounded-full w-10 h-10 object-cover">
                    <h1 class="text-xl font-bold ml-3 theme-text">Paz Church</h1>
                </div>
                <ul class="flex-grow space-y-2">
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="home"><i class="fas fa-home w-6 text-center"></i><span class="ml-3">Início</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="agenda"><i class="fas fa-calendar-alt w-6 text-center"></i><span class="ml-3">Agenda</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="ministracoes"><i class="fas fa-microphone-alt w-6 text-center"></i><span class="ml-3">Ministrações</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="lifegroup"><i class="fas fa-users w-6 text-center"></i><span class="ml-3">Life Group</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="biblia"><i class="fas fa-book-bible w-6 text-center"></i><span class="ml-3">Bíblia</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="plano"><i class="fas fa-tasks w-6 text-center"></i><span class="ml-3">Plano de Leitura</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="contribua"><i class="fas fa-hand-holding-heart w-6 text-center"></i><span class="ml-3">Contribua</span></a></li>
                    <li><a href="https://docs.google.com/forms/d/e/1FAIpQLScmHnoKOX0WoPVz99Ru1adw6EFYP4hZGL-9ar5dChl1V0x2Zg/viewform?usp=header" target="_blank" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white"><i class="fas fa-route w-6 text-center"></i><span class="ml-3">Trajetória do Membro</span></a></li>
                    <li><a href="#" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white" data-page="membro"><i class="fas fa-user-plus w-6 text-center"></i><span class="ml-3">Seja Membro</span></a></li>
                    <li><a href="#" id="lideres-de-life-link" class="nav-link flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white"><i class="fas fa-user-tie w-6 text-center"></i><span class="ml-3">Lideres de Life</span></a></li>
                </ul>

                <div class="mt-4 pt-4 border-t theme-border">
                    <h3 class="px-2 mb-2 text-xs font-semibold tracking-wider uppercase theme-text opacity-70">Líderes de Life</h3>
                    <ul class="space-y-2">
                        <li><a href="#" id="report-link" class="flex items-center p-2 rounded-lg hover:bg-blue-500 hover:text-white"><i class="fas fa-clipboard-list w-6 text-center"></i><span class="ml-3">Enviar Relatório</span></a></li>
                    </ul>
                </div>

                <div class="mt-auto">
                    <label for="theme-switcher" class="flex items-center cursor-pointer">
                        <div class="relative">
                            <input type="checkbox" id="theme-switcher" class="sr-only">
                            <div class="block bg-gray-600 w-14 h-8 rounded-full"></div>
                            <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                        </div>
                        <div class="ml-3 theme-text font-medium">Modo Escuro</div>
                    </label>
                </div>
            </div>
        </nav>

        <main class="flex-1 p-4 md:p-8 overflow-y-auto">
            <header class="theme-header md:hidden flex items-center justify-between mb-4 p-4 rounded-lg shadow-md sticky top-0 border-b theme-border">
                <button id="menu-button" class="text-2xl" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h2 id="page-title" class="text-xl font-bold">Início</h2>
                <div></div>
            </header>

            <div id="home" class="page active">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Bem-vindo à Paz Church!</h2>

                <div id="carousel-container" class="relative w-full max-w-4xl mx-auto mb-8 shadow-lg rounded-lg overflow-hidden">
                    <div id="carousel-wrapper" class="flex transition-transform duration-500 ease-in-out">
                        <div class="w-full flex-shrink-0">
                            <img src="life1.jpg" alt="Foto do Life Group 1" class="w-full h-48 md:h-64">
                        </div>
                        <div class="w-full flex-shrink-0">
                            <img src="life2.jpg" alt="Foto do Life Group 2" class="w-full h-48 md:h-64">
                        </div>
                        <div class="w-full flex-shrink-0">
                            <img src="life3.jpg" alt="Foto do Life Group 3" class="w-full h-48 md:h-64">
                        </div>
                        <div class="w-full flex-shrink-0">
                            <img src="life4.jpg" alt="Foto do Life Group 4" class="w-full h-48 md:h-64">
                        </div>
                        <div class="w-full flex-shrink-0">
                            <img src="life5.jpg" alt="Foto do Life Group 5" class="w-full h-48 md:h-64">
                        </div>
                    </div>

                    <button id="prev-btn" class="absolute top-1/2 left-2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-btn" class="absolute top-1/2 right-2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none">
                        <i class="fas fa-chevron-right"></i>
                    </button>

                    <div id="pagination-dots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
                    </div>
                </div>

                <div id="install-app-container" class="mb-6 hidden">
                    <button id="install-button" class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-indigo-700 transition-colors flex items-center justify-center">
                        <i class="fas fa-download mr-2"></i> Instalar Aplicativo
                    </button>
                    <p id="ios-install-instructions" class="text-sm text-gray-600 dark:text-gray-400 mt-2 text-center hidden">
                        Para instalar no iPhone, toque no ícone de Compartilhar <i class="fas fa-share-square mx-1"></i> e depois em "Adicionar à Tela de Início".
                    </p>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="theme-card border rounded-lg p-6 shadow-sm hover:shadow-lg transition-shadow cursor-pointer" onclick="showPage('agenda')">
                        <i class="fas fa-calendar-alt text-3xl text-blue-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2 theme-text">Agenda</h3>
                        <p class="theme-text opacity-80">Confira nossos próximos eventos e cultos.</p>
                    </div>
                    <div class="theme-card border rounded-lg p-6 shadow-sm hover:shadow-lg transition-shadow cursor-pointer" onclick="showPage('ministracoes')">
                        <i class="fas fa-microphone-alt text-3xl text-red-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2 theme-text">Ministrações</h3>
                        <p class="theme-text opacity-80">Assista às últimas mensagens e pregações.</p>
                    </div>
                    <div class="theme-card border rounded-lg p-6 shadow-sm hover:shadow-lg transition-shadow cursor-pointer" onclick="showPage('lifegroup')">
                        <i class="fas fa-users text-3xl text-green-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2 theme-text">Life Groups</h3>
                        <p class="theme-text opacity-80">Encontre um pequeno grupo e conecte-se.</p>
                    </div>
                    <div class="theme-card border rounded-lg p-6 shadow-sm hover:shadow-lg transition-shadow cursor-pointer" onclick="showPage('biblia')">
                        <i class="fas fa-book-bible text-3xl text-yellow-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2 theme-text">Bíblia Sagrada</h3>
                        <p class="theme-text opacity-80">Acesse a palavra de Deus a qualquer momento.</p>
                    </div>
                    <div class="theme-card border rounded-lg p-6 shadow-sm hover:shadow-lg transition-shadow cursor-pointer" onclick="showPage('contribua')">
                        <i class="fas fa-hand-holding-heart text-3xl text-purple-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2 theme-text">Contribua</h3>
                        <p class="theme-text opacity-80">Apoie nossa missão e ministérios.</p>
                    </div>
                </div>

                <div class="mt-8">
                    <h3 class="text-2xl font-bold theme-text mb-4">O que dizem nossos membros</h3>
                    <div id="depoimentos-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <p class="theme-text col-span-full text-center">Carregando depoimentos...</p>
                    </div>
                </div>
            </div>

            <div id="agenda" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Agenda</h2>
                <div class="space-y-4">
                    <div class="theme-card border rounded-lg p-4 flex items-center space-x-4">
                        <div class="text-center border-r pr-4 theme-border">
                            <p class="text-lg font-bold text-red-500">TODO</p>
                            <p class="text-2xl font-bold">DOM</p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Culto de Celebração</h3>
                            <p class="text-sm opacity-80">Domingo, às 17:30</p>
                            <a href="https://www.google.com/maps/@-3.4365759,-39.1489596,3a,75y,283.96h,90t/data=!3m7!1e1!3m5!1sHYcM1KjwzlsaAftWhA3eLA!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D0%26panoid%3DHYcM1KjwzlsaAftWhA3eLA%26yaw%3D283.96!7i16384!8i8192?entry=ttu&g_ep=EgoyMDI1MDYzMC4wIKXMDSoASAFQAw%3D%3D" target="_blank" class="text-blue-500 text-sm hover:underline">Ver no Mapa</a>
                        </div>
                    </div>
                    <div class="theme-card border rounded-lg p-4 flex items-center space-x-4">
                        <div class="text-center border-r pr-4 theme-border">
                            <p class="text-lg font-bold text-red-500">SEG</p>
                            <p class="text-2xl font-bold">SEX</p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Life Groups</h3>
                            <p class="text-sm opacity-80">Diversos horários e locais</p>
                        </div>
                    </div>
                    <div class="theme-card border rounded-lg p-4 flex items-center space-x-4">
                        <div class="text-center border-r pr-4 theme-border">
                            <p class="text-lg font-bold text-red-500">QUA</p>
                            <p class="text-2xl font-bold">16:00</p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg">Quarta da Guerra (Sala de Oração)</h3>
                            <p class="text-sm opacity-80">Quarta-feira, às 16:00</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="ministracoes" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Ministrações</h2>
                <div class="theme-card border rounded-lg p-6 shadow-sm text-center">
                    <i class="fas fa-wrench text-5xl text-gray-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Página em desenvolvimento</h3>
                    <p class="opacity-80">Volte em breve para conferir as últimas ministrações!</p>
                </div>
            </div>

            <div id="lifegroup" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Life Groups</h2>

                <div class="theme-card border rounded-lg p-6 shadow-sm mb-6">
                    <h3 class="text-xl font-semibold mb-2">Deixe seu Depoimento</h3>
                    <p class="mb-4 opacity-80">Sua experiência no Life Group é importante! Compartilhe seu depoimento conosco clicando no botão abaixo.</p>
                    <div class="mt-4 text-center">
                        <a href="https://docs.google.com/forms/d/e/1FAIpQLSe1KQQTh79-WI8grOntMR76RhXPNzvA5ddardT19qKZIbp5aA/viewform?usp=sharing&ouid=107593731614823362209" target="_blank" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors inline-flex items-center justify-center w-full md:w-auto">
                            <i class="fas fa-pen-to-square mr-2"></i>Deixar um Depoimento
                        </a>
                    </div>
                </div>

                <div class="theme-card border rounded-lg p-6 shadow-sm mb-6">
                    <h3 class="text-xl font-semibold mb-2">Materiais de Estudo</h3>
                    <p class="mb-4 opacity-80">Acesse nossos materiais de estudo para os Life Groups e aprofunde seu conhecimento na Palavra.</p>
                    <div class="mt-4 text-center">
                        <a href="https://drive.google.com/drive/folders/14Md1-keFONT1zyrWxqHlL_1tA8fKn10v" target="_blank" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors inline-flex items-center justify-center w-full md:w-auto">
                            <i class="fas fa-folder-open mr-2"></i>Acessar Materiais do Life Group
                        </a>
                    </div>
                </div>

                <div class="theme-card border rounded-lg p-6 shadow-sm">
                    <h3 class="text-xl font-semibold mb-2">Galerias de Fotos</h3>
                    <p class="mb-4 opacity-80">Acompanhe os momentos especiais de cada Life Group. Clique em um dos botões abaixo para ver a galeria de fotos correspondente.</p>

                    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <a href="https://drive.google.com/drive/folders/1QlTLljPS8DPD2bF5rwM-GMs0dz3_9P7s" target="_blank" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors inline-flex items-center justify-center">
                            <i class="fas fa-camera-retro mr-2"></i>Fotos Life Atos
                        </a>
                        <a href="https://drive.google.com/drive/folders/1QejwPt_y9snp_da7V0fGAmr_n_dXxE71" target="_blank" class="bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors inline-flex items-center justify-center">
                            <i class="fas fa-camera-retro mr-2"></i>Fotos Life Flechas
                        </a>
                        <a href="https://drive.google.com/drive/folders/1QnQd4f3JeGkqTfYwHVowH0sKRMLxJ7Nh" target="_blank" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors inline-flex items-center justify-center">
                            <i class="fas fa-camera-retro mr-2"></i>Fotos Filhos da Promessa
                        </a>
                        <a href="https://drive.google.com/drive/folders/1QIVoQSwIEiA83j2vTtuOgUc7XiUxQOjd" target="_blank" class="bg-yellow-600 text-white px-6 py-3 rounded-lg hover:bg-yellow-700 transition-colors inline-flex items-center justify-center">
                            <i class="fas fa-camera-retro mr-2"></i>Fotos Life Leão de Judá
                        </a>
                        <a href="https://drive.google.com/drive/folders/1QGmeApQOMy1h_7FULFBXFyu0ebAznppH" target="_blank" class="bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors inline-flex items-center justify-center">
                            <i class="fas fa-camera-retro mr-2"></i>Fotos Life Pão da Vida
                        </a>
                    </div>
                </div>
            </div>

            <div id="biblia" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Bíblia Sagrada</h2>
                <div class="theme-card border rounded-lg p-6 shadow-sm text-center">
                    <i class="fas fa-book-open text-5xl text-yellow-600 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Leia a Bíblia Online</h3>
                    <p class="mb-4 opacity-80">Acesse a versão Almeida Corrigida Fiel (ACF) da Bíblia Sagrada.</p>
                    <a href="https://www.bibliaonline.com.br/acf/livros" target="_blank" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors inline-block">
                        <i class="fas fa-external-link-alt mr-2"></i>Ir para Bíblia Online
                    </a>
                </div>
            </div>

            <div id="plano" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Plano de Leitura</h2>
                <div class="theme-card border rounded-lg p-6 shadow-sm text-center">
                    <i class="fas fa-tasks text-5xl text-green-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Plano de Leitura Anual</h3>
                    <p class="mb-4 opacity-80">Acompanhe nosso plano de leitura e leia a Bíblia em um ano. Clique no botão abaixo para fazer o download do plano em PDF.</p>
                    <a href="plano_leitura_paz_church.pdf" target="_blank" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors inline-block">
                        <i class="fas fa-download mr-2"></i>Baixar Plano
                    </a>
                </div>
            </div>

            <div id="contribua" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Contribua</h2>
                <div class="space-y-6">
                    <div class="theme-card border rounded-lg p-6 shadow-sm">
                        <h3 class="text-xl font-semibold mb-2 flex items-center"><i class="fa-brands fa-pix text-2xl mr-3"></i>PIX</h3>
                        <p class="mb-4 opacity-80">Use nossa chave PIX para contribuir de forma rápida e segura.</p>
                        <div class="flex items-center bg-gray-100 dark:bg-gray-800 p-3 rounded-md">
                            <span id="pix-key" class="flex-grow font-mono text-sm">56.895.009/0001-62</span>
                            <button onclick="copyToClipboard('#pix-key')" class="ml-4 bg-blue-500 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-600">Copiar</button>
                        </div>
                    </div>
                    <div class="theme-card border rounded-lg p-6 shadow-sm">
                        <h3 class="text-xl font-semibold mb-2"><i class="fas fa-university mr-3"></i>Transferência Bancária</h3>
                        <p class="mb-4 opacity-80">Você também pode contribuir através de depósito ou transferência.</p>
                        <ul class="text-sm space-y-1">
                            <li><strong>Instituição:</strong> 403 - CORA SCFI</li>
                            <li><strong>Agência:</strong> 0001</li>
                            <li><strong>Conta:</strong> 5195869-5</li>
                            <li><strong>Nome da Empresa:</strong> IGREJA PAZ CHURCH PARAIPABA</li>
                            <li><strong>CNPJ:</strong> 56.895.009/0001-62</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="membro" class="page">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 theme-text hidden md:block">Seja Membro</h2>
                <div class="theme-card border rounded-lg p-6 shadow-sm text-center">
                    <i class="fas fa-user-plus text-5xl text-blue-500 mb-4"></i>
                    <h3 class="text-xl font-semibold mb-2">Página em desenvolvimento</h3>
                    <p class="opacity-80">Estamos trabalhando para disponibilizar o formulário de membresia em breve. Volte mais tarde!</p>
                </div>
            </div>
        </main>
    </div>

    <div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg transform translate-y-20 transition-transform duration-300">
        Texto copiado!
    </div>

    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center p-4">
        <div class="theme-card rounded-lg shadow-xl p-6 w-full max-w-sm border theme-border">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold theme-text">Acesso Restrito para Líderes</h3>
                <button id="close-modal-btn" class="text-2xl theme-text opacity-70 hover:opacity-100">×</button>
            </div>
            <div class="space-y-4">
                <div>
                    <label for="username" class="block text-sm font-medium theme-text mb-1">Usuário</label>
                    <input type="text" id="username" class="w-full p-2 border theme-border rounded-md theme-card theme-text focus:ring-2 focus:ring-blue-500 focus:outline-none">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium theme-text mb-1">Senha</label>
                    <input type="password" id="password" class="w-full p-2 border theme-border rounded-md theme-card theme-text focus:ring-2 focus:ring-blue-500 focus:outline-none">
                </div>
                <p id="error-message" class="text-red-500 text-sm hidden">Usuário ou senha inválidos.</p>
                <button id="login-btn" class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors">Entrar</button>
            </div>
        </div>
    </div>

    <script>
        // --- App State and Navigation ---
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('sidebar-overlay');
        const allNavLinks = document.querySelectorAll('.nav-link');
        const pageNavLinks = document.querySelectorAll('.nav-link[data-page]');
        const pages = document.querySelectorAll('.page');
        const pageTitle = document.getElementById('page-title');

        function toggleSidebar() {
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        function showPage(pageId) {
            pages.forEach(page => page.classList.remove('active'));
            const newPage = document.getElementById(pageId);
            if (newPage) {
                newPage.classList.add('active');
                const link = document.querySelector(`.nav-link[data-page="${pageId}"]`);
                if (link) {
                    pageTitle.textContent = link.querySelector('span').textContent;
                }
            }
            if (window.innerWidth < 768) {
                toggleSidebar();
            }
        }

        // --- Theme Switcher ---
        const themeSwitcher = document.getElementById('theme-switcher');
        const body = document.body;
        const dot = document.querySelector('.dot');

        themeSwitcher.addEventListener('change', () => {
            body.classList.toggle('dark');
            dot.classList.toggle('translate-x-6');
        });

        // --- Carousel Functionality ---
        function setupCarousel() {
            const carouselWrapper = document.getElementById('carousel-wrapper');
            if (!carouselWrapper) return;

            const slides = carouselWrapper.children;
            const totalSlides = slides.length;
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const dotsContainer = document.getElementById('pagination-dots');
            let currentIndex = 0;
            let autoPlayInterval;

            if (dotsContainer) {
                dotsContainer.innerHTML = '';
                for (let i = 0; i < totalSlides; i++) {
                    const dot = document.createElement('button');
                    dot.classList.add('w-3', 'h-3', 'rounded-full', 'bg-white', 'bg-opacity-50', 'hover:bg-opacity-100', 'transition-all');
                    dot.setAttribute('aria-label', `Ir para slide ${i + 1}`);
                    dot.addEventListener('click', () => {
                        goToSlide(i);
                        resetAutoPlay();
                    });
                    dotsContainer.appendChild(dot);
                }
            }
            const dots = dotsContainer ? dotsContainer.children : [];

            function updateCarousel() {
                carouselWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
                if (dots.length > 0) {
                    for (let i = 0; i < dots.length; i++) {
                        dots[i].classList.toggle('bg-opacity-100', i === currentIndex);
                        dots[i].classList.toggle('bg-opacity-50', i !== currentIndex);
                    }
                }
            }

            function goToSlide(index) {
                currentIndex = (index + totalSlides) % totalSlides;
                updateCarousel();
            }

            function startAutoPlay() {
                clearInterval(autoPlayInterval);
                autoPlayInterval = setInterval(() => goToSlide(currentIndex + 1), 5000);
            }

            function resetAutoPlay() {
                startAutoPlay();
            }

            if (prevBtn) prevBtn.addEventListener('click', () => { goToSlide(currentIndex - 1); resetAutoPlay(); });
            if (nextBtn) nextBtn.addEventListener('click', () => { goToSlide(currentIndex + 1); resetAutoPlay(); });

            updateCarousel();
            startAutoPlay();
        }

        // --- Testimonials Functionality ---
        async function carregarDepoimentos() {
            const container = document.getElementById('depoimentos-container');
            const urlPlanilha = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTdRVplNG4USiw9I5plMvh-6FvtN6f7PkE3TdNlFzjhIdT13EhKZFGSD13bIYCgFP-y08llmF6WcjjE/pub?gid=1087812877&single=true&output=csv';

            try {
                const response = await fetch(urlPlanilha);
                if (!response.ok) throw new Error('Falha na resposta da rede');

                const data = await response.text();

                container.innerHTML = '';

                const linhas = data.trim().split(/\r?\n/).slice(1);

                if (linhas.length === 0 || (linhas.length === 1 && linhas[0].trim() === '')) {
                    container.innerHTML = '<p class="theme-text col-span-full text-center">Ainda não há depoimentos.</p>';
                    return;
                }

                linhas.forEach(linha => {
                    if (linha.trim() === '') return;

                    const colunas = [];
                    let campoAtual = '';
                    let dentroDeAspas = false;
                    for (const char of linha) {
                        if (char === '"' && !dentroDeAspas) {
                            dentroDeAspas = true; continue;
                        }
                        if (char === '"' && dentroDeAspas) {
                            dentroDeAspas = false; continue;
                        }
                        if (char === ',' && !dentroDeAspas) {
                            colunas.push(campoAtual);
                            campoAtual = ''; continue;
                        }
                        campoAtual += char;
                    }
                    colunas.push(campoAtual);

                    const nome = colunas[1] || 'Anônimo';
                    const respostaLifeGroup = colunas[2] || '';
                    const nomeLifeGroup = colunas[3] || '';
                    const depoimentoTexto = colunas[4] || '';

                    let corpoDepoimento = `
                        <p><strong>Já faz parte de um Life Group?</strong> ${respostaLifeGroup}</p>
                        ${nomeLifeGroup ? `<p><strong>Qual?</strong> ${nomeLifeGroup}</p>` : ''}
                        ${depoimentoTexto ? `<p class="mt-2 italic">"${depoimentoTexto}"</p>` : ''}
                    `;

                    const card = document.createElement('div');
                    card.className = 'theme-card border rounded-lg p-4 shadow-sm flex flex-col';
                    card.innerHTML = `
                        <div class="theme-text opacity-80 flex-grow">${corpoDepoimento}</div>
                        <p class="theme-text font-bold text-right mt-2">- ${nome}</p>
                    `;
                    container.appendChild(card);
                });

                if (container.children.length === 0) {
                    container.innerHTML = '<p class="theme-text col-span-full text-center">Nenhum depoimento encontrado.</p>';
                }

            } catch (error) {
                container.innerHTML = '<p class="theme-text col-span-full text-center">Não foi possível carregar os depoimentos.</p>';
                console.error('Erro ao buscar depoimentos:', error);
            }
        }

        // --- "Contribua" Page Functionality ---
        function copyToClipboard(elementSelector) {
            const textToCopy = document.querySelector(elementSelector).innerText;
            navigator.clipboard.writeText(textToCopy).then(() => {
                const toast = document.getElementById('toast');
                toast.style.transform = 'translateY(0)';
                setTimeout(() => {
                    toast.style.transform = 'translateY(20rem)';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }

        // --- Initialize App ---
        document.addEventListener('DOMContentLoaded', () => {
            // Setup page navigation
            pageNavLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    showPage(pageId);

                    allNavLinks.forEach(l => l.classList.remove('bg-blue-500', 'text-white'));
                    link.classList.add('bg-blue-500', 'text-white');
                });
            });

            // --- LEADER LOGIN LOGIC (REFACTORED FOR MULTIPLE LINKS) ---
            const loginModal = document.getElementById('login-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const loginBtn = document.getElementById('login-btn');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const errorMessage = document.getElementById('error-message');

            // Links that trigger the login
            const reportLink = document.getElementById('report-link');
            const lideresDeLifeLink = document.getElementById('lideres-de-life-link');

            // URLs for the forms
            const originalReportFormUrl = 'https://docs.google.com/forms/d/e/1FAIpQLScwy-cLq44AX7ZKweIxkA6asiGh_KpMZpnJQlDe1wFL7c_qPw/viewform?usp=dialog';
            const lideresDeLifeFormUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSf6uDtU-W03AN-mMEog60fEYfUB6Epo25S4Qnm6s_TzMdW8WA/viewform?usp=sharing&ouid=107593731614823362209';

            let targetFormUrl = '';

            const isLeaderLoggedIn = () => sessionStorage.getItem('leaderAuth') === 'true';

            const showLoginModal = () => {
                loginModal.classList.remove('hidden');
                loginModal.classList.add('flex');
                usernameInput.focus();
            };

            const closeLoginModal = () => {
                loginModal.classList.add('hidden');
                loginModal.classList.remove('flex');
                errorMessage.classList.add('hidden');
                passwordInput.value = '';
                targetFormUrl = '';
            };

            const handleLogin = () => {
                const user = usernameInput.value;
                const pass = passwordInput.value;

                if (user === 'admlideres' && pass === 'amocelulas') {
                    sessionStorage.setItem('leaderAuth', 'true');
                    if (targetFormUrl) {
                        window.open(targetFormUrl, '_blank');
                    }
                    closeLoginModal();
                } else {
                    errorMessage.classList.remove('hidden');
                    passwordInput.value = '';
                    usernameInput.focus();
                }
            };

            closeModalBtn.addEventListener('click', closeLoginModal);
            loginBtn.addEventListener('click', handleLogin);
            passwordInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    handleLogin();
                }
            });

            if (reportLink) {
                reportLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    targetFormUrl = originalReportFormUrl;
                    if (isLeaderLoggedIn()) {
                        window.open(targetFormUrl, '_blank');
                    } else {
                        showLoginModal();
                    }
                });
            }

            if (lideresDeLifeLink) {
                lideresDeLifeLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    targetFormUrl = lideresDeLifeFormUrl;
                    if (isLeaderLoggedIn()) {
                        window.open(targetFormUrl, '_blank');
                    } else {
                        showLoginModal();
                    }
                });
            }

            // Initial page setup
            showPage('home');
            document.querySelector('.nav-link[data-page="home"]').classList.add('bg-blue-500', 'text-white');
            setupCarousel();
            carregarDepoimentos();
        });
    </script>
</body>
</html>
